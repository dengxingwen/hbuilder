<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<script src="../js/mui.min.js"></script>
		<link href="../css/mui.min.css" rel="stylesheet" />
		<script type="text/javascript" charset="UTF-8">
			mui.init();
		</script>
		<style type="text/css">
			.mui-content {
				margin-top: 0px;
			}
			
			#selectpan {
				margin-top: 10px;
			}
			
			.wrapper {
				padding: 10px;
				width: 100%;
				background-color: ghostwhite;
				height: 150px;
				font: 14px/1.5 arial;
				text-align: center;
				position: relative;
				/*margin: 10px auto;*/
			}
			/*tab*/
			
			#star {
				overflow: hidden;
				padding: 4px 0;
			}
			
			#star li {
				float: left;
				width: 20%;
				height: 30px;
				margin: 0px;
				display: inline;
				color: #999;
				font: bold 18px arial;
				cursor: pointer
			}
			
			#star .act {
				color: dodgerblue;
			}
			
			#star_word {
				width: 80%;
				height: 30px;
				line-height: 30px;
				position: absolute;
				left: 50%;
				text-align: center;
				display: none;
			}
		</style>

		<script type="text/javascript">
			//按钮状态
			var start = true;
			var idd;
			//定义变量 
			var allStuInfo = {};
			allStuInfo = JSON.parse(localStorage.stuNameList);
		</script>
		<script>
			window.onload = function() {
				var star = document.getElementById("star");
				var star_li = star.getElementsByTagName("li");
				var star_word = document.getElementById("star_word");
				var result = document.getElementById("result");
				var i = 0;
				var j = 0;
				var len = star_li.length;
				var word = ['1分', '2分', '3分', "4分", "5分"]
				for (i = 0; i < len; i++) {
					star_li[i].index = i;
					star_li[i].onclick = function() {
						//result.innerHTML = (this.index + 1) + "分";
						//star_word.style.display = "block";
						star_word.innerHTML = word[this.index];
						for (i = 0; i < len; i++) {
							star_li[i].className = "";
						}
						for (i = 0; i <= this.index; i++) {
							star_li[i].className = "act";
						}
					}
				}
			}
		</script>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav" style="background-color: dodgerblue;">
			<a id="addclassseting" class="mui-icon mui-icon-gear mui-pull-right" style="color: white;"></a>
			<h1 id="title" class="mui-title" style="color: white;">首页</h1>
		</header>
		<div class="mui-content">

			<div id="slider" class="mui-slider">
				<div class="mui-slider-group mui-slider-loop">
					<!-- 额外增加的一个节点(循环轮播：第一个节点是最后一张轮播) -->
					<div class="mui-slider-item mui-slider-item-duplicate">
						<a href="#">
							<img src="../images/yuantiao.jpg">
							<p class="mui-slider-title">静静看这世界</p>
						</a>
					</div>
					<div class="mui-slider-item">
						<a href="#">
							<img src="../images/shuijiao.jpg">
							<p class="mui-slider-title">幸福就是可以一起睡觉</p>
						</a>
					</div>
					<div class="mui-slider-item">
						<a href="#">
							<img src="../images/muwu.jpg">
							<p class="mui-slider-title">想要一间这样的木屋，静静的喝咖啡</p>
						</a>
					</div>
					<div class="mui-slider-item">
						<a href="#">
							<img src="../images/cbd.jpg">
							<p class="mui-slider-title">Color of SIP CBD</p>
						</a>
					</div>
					<div class="mui-slider-item">
						<a href="#">
							<img src="../images/yuantiao.jpg">
							<p class="mui-slider-title">静静看这世界</p>
						</a>
					</div>
					<!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
					<div class="mui-slider-item mui-slider-item-duplicate">
						<a href="#">
							<img src="../images/shuijiao.jpg">
							<p class="mui-slider-title">幸福就是可以一起睡觉</p>
						</a>
					</div>
				</div>
				<div class="mui-slider-indicator mui-text-right">
					<div class="mui-indicator mui-active"></div>
					<div class="mui-indicator"></div>
					<div class="mui-indicator"></div>
					<div class="mui-indicator"></div>
				</div>
			</div>

			<!--
                	作者：张敏
                	时间：2016-02-16
                	描述：用来显示姓名
                -->

			<div style="position: relative;margin-top: 0px;background-color: #ADADAD;padding-top: 15px;height: 260px;" align="center">
				<div id="showNameText" style="font-size:20px; color:dodgerblue;text-align: center;height: 30px;"></div>
				<div class="wrapper">
					<!--打分结果
						<span id="result"></span>-->
					<ul id="star">
						<li>★</li>
						<li>★</li>
						<li>★</li>
						<li>★</li>
						<li>★</li>
					</ul>

					<div id="star_word"></div>
					<div style="position: relative;width: 100%;margin-top: 40px;">
						<button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" style="width:70px;height:35px;position: absolute;bottom: 0px;left: 50%;margin-left:-35px;">提交</button>
					</div>
				</div>

				<div>
					<button id="randomnamebutton" type="button" class="mui-btn mui-btn-primary" style="width:60%;height:40px;position: absolute;bottom: 20px;left: 50%;margin-left: -30%;">随机点名</button>
				</div>
			</div>

		</div>
	</body>
	<script type="text/javascript">
		//随机点名
		function showName() {
			var index = Math.floor(Math.random() * allStuInfo.length);
			var name = allStuInfo[index]["username"];
			document.getElementById("showNameText").innerHTML = name;
			idd = setTimeout("showName()", 8);
		}
		mui.plusReady(function() {
			var slider = mui("#slider");

			function slidepic() {
				slider.slider({
					interval: 3000
				});
			};
			slidepic();
			//
			//处理右上角关于图标的点击事件；
			document.getElementById('addclassseting').addEventListener('tap', function() {
				console.log("设置班级");
				mui.openWindow({
					url: "SettingClass.html",
					id: "info",
					show: {
						aniShow: 'zoom-fade-out',
						duration: 300
					}
				});
			});
			//随机点名
			document.getElementById("randomnamebutton").addEventListener('tap', function() {
				console.log("随机点名");
				if (start) {
					showName();
					randomnamebutton.innerHTML = "停止";
					start = false;
				} else {
					clearTimeout(idd);
					randomnamebutton.innerHTML = "随机点名";
					start = true;
				}
			});
		});
	</script>

</html>